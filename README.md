# Tender Tummies API

This is an API for the Tender Tummies FPIES database. This API will allow user to GET/POST/PUT/DELETE items from the Tender Tummies Database. This API is seeded with a dummy child's information, the actual database is not uploaded at the moment.

It uses .NET Core and SQLite.

## Installing Core Technologies

## SQLite

### For OSX Users

```
brew install sqlite
```

### For Windows Users

Visit the [SQLite downloads](https://www.sqlite.org/download.html) and download the 64-bit DLL (x64) for SQLite version, unzip and install it.

## SQL Browser

The [DB browser for SQLite](http://sqlitebrowser.org/) will let you view, query and manage your databases during the course.

## Visual Studio Code

[Visual Studio Code](https://code.visualstudio.com/download) is Microsoft's cross-platform editor for writing C# and building .NET applications. Make sure you add the [C# extension](https://code.visualstudio.com/Docs/languages/csharp) immediately after installation completes.

## Windows

### Install .NET Core

https://www.microsoft.com/net/core#windows

  1. Click the link to download the .NET Core SDK for Windows (https://go.microsoft.com/fwlink/?LinkID=827524)
  2. Once installed open a command line app to intialize some code.
  3. Make a directory for your app: mkdir HelloWorld
  4. Move to the newly created directory. : cd HelloWorld
  5. Create a new app: dotnet new
  6. Build the app and restore any get any missing libraries (packages) : dotnet restore
  7. Run the app: dotnet run
  8. You should see the test "Hello World".
  9. Navigate to the folder where the app was created and https://docs.asp.net/en/latest/getting-started.html

## OSX

### Install .NET Core

https://www.microsoft.com/net/core#macos

Create and run an ASP.NET application using .NET Core

https://docs.asp.net/en/latest/getting-started.html


### Review .NET Core Documentation

https://docs.microsoft.com/en-us/dotnet/

# Installing Bangazon API

There are a few things you need to make sure are in place before the database can be up and running.
 1. Fork and clone the repo on to you local machine. 
 2. Run `dotnet restore`
 3. Run `dotnet ef database update` 
 4. Run `dotnet run` 
 > This will compile and run everything as well as initalizing the database with some data to get started

## Using the API
All calls to the API will be made from `http://localhost:5000` as the domain. All calls will be made from here. After the instructions, an example will be given using the dummy user and child seeded in the database.

### Child Resource

Verbs supported: GET/POST/PUT/DELETE

#### GET 

##### Get All User's Children
You can access a list of all of the children of a particular user by running a GET call to `http://localhost:5000/Child/{userName}`. 
> Example: The database is seeded with a dummy user who has two children. To get all of that user's children make the call to `http://localhost:5000/Child/User1`

##### Get Single Child
You can get the information on a single child by running a GET call to ```http://localhost:5000/Child/id/{childID}```. This method will return the child with their safe and trigger foods nested inside the object.
> Example: GET `http://localhost:5000/Child/id/1`

#### POST 
You can POST a new child by running a Post call to `http://localhost:5000/Child` using data from the following table.
* Sample JSON: { "UserID": "User2", "FirstName":"Hattie", "LastName": "Bee", "WtNumber": 25, "WtUnit":"lbs", "Gender": "Girl", "Age": 2} 
>The UserID is intended to be generated by the client, so for the sake of this example we're using a dummy one.

     
   | Property  | Required | DataType | Example |
   |-----------|----------|----------|---------|
   | UserID    | Y        | String   | User2   |
   | FirstName | Y        | String   | Hattie  |
   | LastName  | Y        | String   | Bee     |
   | WtNumber  | Y        | Int      | 25      |
   | WtUnit    | Y        | Int      | lbs     |
   | Gender    |          | String   | Girl    |
   | Age       | Y        | Int      | 2       |
      
   

#### PUT 
You can update the information on a specific child by running a Put call to `http://localhost:5000/Child/id/{id}`. 
> You must PUT the entire changed object, using the appropriate fields detailed above.
      
* Sample JSON: { "UserID": "User2", "FirstName":"Hattie", "LastName": "Bee", "WtNumber": 25, "WtUnit":"lbs", "Gender": "Girl", "Age": 2}

#### DELETE 

You can delete the profile for a specific child by running a DELETE call to `http://localhost:5000/Child/id/{id}`. 



### Food Resource

Verbs supported: GET/POST

#### GET 

##### Get All Food
You can access a list of all of the food types in the database by running a Get call to `http://localhost:5000/Food`. 

##### Get Single Food
You can get the information on a single food by running a GET call to ```http://localhost:5000/Food/id/{foodID}```. 
> Example: GET ```http://localhost:5000/Food/id/11``` will return Pork.


#### POST 
You can post a new food by running a POST call to `http://localhost:5000/Food` using data from the following table. Any posts will be validated against the API to prevent duplicate foods being stored in the database.

The foods in this database are intended to be food types for allergy tracking and maintenance. An acceptable food would be "Wheat", whereas "Birthday Cake" would not be acceptable.

* Sample JSON: { "Name": "Cilantro" } 

     
   | Property  | Required | DataType | Example |
   |-----------|----------|----------|---------|
   | Name      | Y        | String   | Cilantro|
   




### Ingestion Resource

Verbs supported: GET. 

This resource details how a child ingested the trigger food that caused a reaction. It is unlikely that a user will need to add any other types of ingestions than what is provided, but should I be wrong please get in touch using my GitHub contact information.

#### GET 

##### Get All Ingestions
You can access a list of all of the ingestion types in the database by running a GET call to `http://localhost:5000/Ingestion`. 

##### Get Single Ingestion
You can get the information on a single ingestion by running a GET call to ```http://localhost:5000/Ingestion/id/{ingestionID}```. 
> Example: GET ```http://localhost:5000/Ingestion/id/3``` will return Breastmilk.

   
